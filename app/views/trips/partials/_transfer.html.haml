.transfer-place{'ng-show' => '!edit && !transfer_edit', 'ng-model' => 'day.transfers'}

  %div.transfer-show-container{'ng-repeat' => 'transfer in day.transfers track by transfer.id'}
    = render 'trips/partials/show_transfer'

  %p{'ng-show' => 'day.transfers.length == 0'}
    %i
      = t('trips.show.no_transfers')

  - if @user_can_edit
    %a.edit-hover-button{'ng-show' => 'mouse_over_transfers', 'ng-click' => "setEdit(true, 'transfer')"}
      = fa_icon 'pencil'

%div{'ng-show' => 'edit || transfer_edit'}

  %div.form-horizontal.transfer-place-edit{'ng-model' => 'day.transfers',
        'ui-sortable' => '{connectWith: \'.transfer-place-edit\', placeholder: \'well\'}'}
    %div.transfer-edit-container{'ng-repeat' => 'transfer in day.transfers track by transfer.id'}
      = render 'trips/partials/edit_transfer'

  .form-group.edit-actions
    %a.pull-left{href: 'javascript:void(0);', 'ng-click' => 'save()',
          'ng-show' => 'transfer_edit'}
      = fa_icon 'check'
    %a.pull-left{href: 'javascript:void(0);', 'ng-click' => 'reload()', 'ng-show' => 'transfer_edit'}
      = fa_icon 'undo'

    %a.pull-right{href: 'javascript:void(0);',
    'ng-click' => "add(day.transfers, {\"links\" : [{}], #{default_currency_hash(@trip, current_user)}})"}
      = fa_icon 'plus'
