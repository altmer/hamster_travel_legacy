- trips ||= []
- without_pagination ||= false

.trip-list
  - if trips.blank?
    = t('.no_trips')
  - else
    - trips.each do |trip|
      .row.trip-row
        .col-md-2.image-cell.hidden-xs.hidden-sm
          = link_to trip_path(trip) do
            %img{class: 'img-responsive',
              src: trip.image_url_or_default}
        .col-md-10.col-xs-12.content-cell
          %p.header
            = link_to trip.name, trip_path(trip)
            %small
              = trip_start_date(trip)
            = trip_status_icon(trip.status_code)

          %p.budget
            = t('common.budget').mb_chars.capitalize
            = trip.budget_sum(current_user.try(:currency))
            = currency_symbol.html_safe
            \/
            = trip.days_count
            = t('common.days', count: trip.days_count)
            = t('trips.show.budget_for')
            = trip.budget_for
            = t('trips.show.persons')

          %p.author
            = link_to trip.author.full_name, user_path(trip.author)

    - unless without_pagination
      = paginate trips
