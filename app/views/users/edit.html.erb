<% content_for :title, t('.title') %>

<% content_for :page_javascript do %>
    <script id="citiesTemplate.html" type="text/ng-template">
      <a class="flag-text">
        <span ng-bind-html="match.model.flag_image"></span>
        <span>
        {{match.label}}
      </span>
      </a>
    </script>
<% end %>

<div class="container">
  <%= form_for @user do |f| %>
      <fieldset class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
        <%= error_messages! @user %>
        <div class="form-group">
          <%= f.label :home_town_text, class: 'control-label' %>
          <%= render 'widgets/typeahead/cities', form: f, model_name: 'home_town' %>
        </div>
        <div class="form-group">
          <%= f.label :locale, class: 'control-label' %>
          <%= f.select :locale, options_for_select([%w(English en), %w(Русский ru)], @user.locale || params[:locale].to_s), {}, { class: 'form-control' } %>
        </div>
        <div class="form-group">
          <%= f.label :currency, class: 'control-label' %>
          <%= f.select :currency, options_for_select(CurrencyHelper.currencies_select_simple, @user.currency || CurrencyHelper::DEFAULT_CURRENCY), {}, { class: 'form-control' } %>
        </div>
        <div class="form-group">
          <%= f.submit t('common.save'), class: 'btn btn-lg btn-primary btn-block' %>
        </div>
      </fieldset>
  <% end %>
</div>
